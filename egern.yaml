ipv6: true
http_port: 3080
socks_port: 3090
allow_external_connections: true
vif_only: true
hide_vpn_icon: true
hijack_dns:
- '*:53'
geoip_db_url: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
asn_db_url: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/GeoLite2-ASN.mmdb
proxy_latency_test_url: https://www.google.com/generate_204
direct_latency_test_url: http://www.apple.com/library/test/success.html
compat_route: false
include_all_networks: false
include_apns: false
include_cellular_services: false
include_local_networks: false
dns:
  bootstrap:
  - 223.5.5.5
  - 119.29.29.29
  upstreams:
    å›½å¤–:
    - tls://1.1.1.1
    - https://8.8.8.8/dns-query
    - https://1.1.1.1/dns-query
    - tls://dns.google
    å›½å†…:
    - tls://dns.alidns.com
    - tls://dot.pub
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    è…¾è®¯:
    - tls://dot.pub
    - https://doh.pub/dns-query
    é˜¿é‡Œå·´å·´:
    - tls://dns.alidns.com
    - https://dns.alidns.com/dns-query
    å­—èŠ‚è·³åŠ¨:
    - 180.184.2.2
    - 180.184.1.1
  forward:
  - proxy_rule_set:
      match: https://rule.kelee.one/Loon/DouYin.lsr
      value: å­—èŠ‚è·³åŠ¨
      disabled: false
  - proxy_rule_set:
      match: https://rule.kelee.one/Loon/TestFlight.lsr
      value: å›½å¤–
      disabled: false
  - proxy_rule_set:
      match: https://rule.kelee.one/Loon/Apple.lsr
      value: å›½å†…
      disabled: false
  - proxy_rule_set:
      match: https://rule.kelee.one/Loon/Alibaba.lsr
      value: é˜¿é‡Œå·´å·´
      disabled: false
  - proxy_rule_set:
      match: https://rule.kelee.one/Loon/Tencent.lsr
      value: è…¾è®¯
      disabled: false
  - proxy_rule_set:
      match: https://rule.kelee.one/Loon/ChinaMax.lsr
      value: å›½å†…
      disabled: false
  - proxy_rule_set:
      match: https://rule.kelee.one/Loon/Global.lsr
      value: å›½å¤–
      disabled: false
  - wildcard:
      match: '*'
      value: å›½å¤–
      disabled: false
  public_ip_lookup_url: https://ifconfig.me/ip
proxies:
- vless:
    name: DIY-vless-USA
    server: 107.172.82.231
    port: 443
    user_id: d62353a9-17cd-4102-8c41-739501a5bc34
    tfo: false
    udp_relay: true
    flow: xtls-rprx-vision
    transport:
      tls:
        sni: www.apple.com
        skip_tls_verify: true
- hysteria2:
    name: DIY-hysteria2-USA
    server: 107.172.82.231
    port: 443
    auth: Apsw9Pd26P
    sni: www.apple.com
    skip_tls_verify: true
policy_groups:
- external:
    name: å…¨éƒ¨èŠ‚ç‚¹
    type: select
    urls:
    - https://luck7.ggff.net/KEY?sub
    icon: https://raw.githubusercontent.com/LUCK777777/photo/main/icons8-yu-96.png
    hidden: false
- select:
    name: è‡ªå»ºèŠ‚ç‚¹
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    flatten: true
    filter: (?i)(è‡ªå»º|DIY|VPS|MyNode|Self|NAT)
    icon: https://raw.githubusercontent.com/LUCK777777/photo/main/icons8-cloudflare-96.png
- auto_test:
    name: é¦™æ¸¯èŠ‚ç‚¹
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    flatten: true
    filter: (?i)(ğŸ‡­ğŸ‡°|é¦™æ¸¯|\bHK\b|\bHKG\b|Hong\s*Kong|HongKong)
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/HongKong.png
- auto_test:
    name: ç¾å›½èŠ‚ç‚¹
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    flatten: true
    filter: (?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|ç¾åœ‹|\bUS\b|\bUSA\b|United\s*States)
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/UnitedStates.png
- auto_test:
    name: å°æ¹¾èŠ‚ç‚¹
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    flatten: true
    filter: (?i)(ğŸ‡¹ğŸ‡¼|å°æ¹¾|å°ç£|\bTW\b|Taiwan|TW)
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Taiwan.png
- auto_test:
    name: æ—¥æœ¬èŠ‚ç‚¹
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    flatten: true
    filter: (?i)(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|\bJP\b|\bJPN\b|Japan)
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Japan.png
- auto_test:
    name: ç‹®åŸèŠ‚ç‚¹
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    flatten: true
    filter: (?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|ç…åŸ|\bSG\b|Singapore)
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Singapore.png
- select:
    name: å…¶ä»–èŠ‚ç‚¹
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    flatten: true
    filter: ^((?!(è‡ªå»º|DIY|VPS|MyNode|Self|NAT|ğŸ‡­ğŸ‡°|é¦™æ¸¯|\bHK\b|\bHKG\b|Hong\s*Kong|HongKong|ğŸ‡ºğŸ‡¸|ç¾å›½|ç¾åœ‹|\bUS\b|\bUSA\b|United\s*States|ğŸ‡¹ğŸ‡¼|å°æ¹¾|å°ç£|\bTW\b|Taiwan|ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|\bJP\b|\bJPN\b|Japan|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|ç…åŸ|\bSG\b|Singapore)).)*$
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/WorldMap.png
- select:
    name: è‡ªé€‰ç­–ç•¥
    policies:
    - è‡ªå»ºèŠ‚ç‚¹
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å…¶ä»–èŠ‚ç‚¹
    - DIRECT
    icon: https://raw.githubusercontent.com/LUCK777777/photo/main/icons8-zy-100.png
- select:
    name: AIGC
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/ChatGPT.png
- select:
    name: Apple
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Apple.png
- select:
    name: Disney
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Disney.png
- select:
    name: GitHub
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/GitHub.png
- select:
    name: Google
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Google.png
- select:
    name: Microsoft
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Microsoft.png
- select:
    name: Netflix
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Netflix.png
- select:
    name: PayPal
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/PayPal.png
- select:
    name: Spotify
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Spotify.png
- select:
    name: Telegram
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Telegram.png
- select:
    name: TikTok
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/TikTok.png
- select:
    name: Twitter
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/Twitter.png
- select:
    name: WeChat
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/WeChat.png
- select:
    name: YouTube
    policies:
    - è‡ªé€‰ç­–ç•¥
    flatten: true
    icon: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/image/YouTube.png
- select:
    name: äº¤æ˜“æ‰€
    policies:
    - è‡ªé€‰ç­–ç•¥
    - DIRECT
    flatten: true
    icon: https://raw.githubusercontent.com/LUCK777777/photo/main/icons8-btc-94.png
- select:
    name: TRDR
    policies:
    - å…¨éƒ¨èŠ‚ç‚¹
    - DIRECT
    flatten: true
    icon: https://raw.githubusercontent.com/LUCK777777/photo/main/icons8-usdt144.png
rules:
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Reject.yaml
    policy: REJECT
- domain_regex:
    match: ^ad\..*|^ads\..*|^advert\..*
    policy: REJECT
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Lan.yaml
    policy: DIRECT
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMax/ChinaMax_All.list
    policy: DIRECT
- domain_suffix:
    match: '*.cn'
    policy: DIRECT
- geoip:
    match: CN
    policy: DIRECT
    no_resolve: true
- rule_set:
    match: https://raw.githubusercontent.com/LUCK777777/clash-rule/refs/heads/main/rule/rule/binance.yaml
    policy: äº¤æ˜“æ‰€
- rule_set:
    match: https://raw.githubusercontent.com/LUCK777777/clash-rule/refs/heads/main/rule/rule/trdr.yaml
    policy: TRDR
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Apple.yaml
    policy: Apple
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/AppleProxy.yaml
    policy: é¦™æ¸¯èŠ‚ç‚¹
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/AIGC.yaml
    policy: AIGC
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Bing.yaml
    policy: ç¾å›½èŠ‚ç‚¹
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Disney.yaml
    policy: Disney
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Github.yaml
    policy: GitHub
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Google.yaml
    policy: Google
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Microsoft.yaml
    policy: Microsoft
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Netflix.yaml
    policy: Netflix
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/PayPal.yaml
    policy: PayPal
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Spotify.yaml
    policy: Spotify
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Telegram.yaml
    policy: Telegram
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/TikTok.yaml
    policy: TikTok
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/Twitter.yaml
    policy: Twitter
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/WeChat.yaml
    policy: WeChat
- rule_set:
    match: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Rule/YouTube.yaml
    policy: YouTube
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All.list
    policy: è‡ªé€‰ç­–ç•¥
- default:
    policy: è‡ªé€‰ç­–ç•¥
mitm:
  enabled: true
  ca_p12: Legern.p12
  ca_passphrase: '241936'
  hostnames:
    includes:
    - '*.google.com'
    - '*.github.com'
modules:
- name: reddit
  url: http://script.hub/file/_start_/https://kelee.one/Tool/Loon/Lpx/Reddit_remove_ads.lpx/_end_/Reddit_remove_ads.sgmodule?type=loon-plugin&target=surge-module&del=true&jqEnabled=true&pm=.&sni=.
  enabled: true
- name: ä¸­æ–‡å­—å¹•
  url: https://github.com/DualSubs/YouTube/releases/latest/download/DualSubs.YouTube.yaml
  enabled: true
- name: boxjs
  url: http://script.hub/file/_start_/https://kelee.one/Tool/Loon/Lpx/BoxJs.lpx/_end_/BoxJs.sgmodule?type=loon-plugin&target=surge-module&del=true&jqEnabled=true&pm=.&sni=.
  enabled: false
- name: script hub
  url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.surge.sgmodule
  enabled: true
- name: å¯è‰
  url: https://raw.githubusercontent.com/158212892/QuantumultXMark/refs/heads/main/My/Egern/modules/pluginhub.yaml
  enabled: true
- url: https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Egern/Module/Panel.yaml
  enabled: true
- name: Sub-Store
  url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Egern.yaml
  enabled: true
- name: WeatherKit
  url: https://github.com/NSRingo/WeatherKit/releases/latest/download/iRingo.WeatherKit.sgmodule
  enabled: true
- name: YouTube Enhance
  url: https://raw.githubusercontent.com/Maasea/sgmodule/master/YouTube.Enhance.sgmodule
  enabled: true
